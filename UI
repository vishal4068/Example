import fitz

def mark_graphics_with_red_rectangle(pdf_path, output_pdf_path):
    doc = fitz.open(pdf_path)
    
    for page in doc:
        for img_index, img in enumerate(page.get_images(full=True)):
            bbox = fitz.Rect(img[-2])
            page.draw_rect(bbox, color=(1, 0, 0), width=2)
        
        for annot in page.annots():
            subtype = annot.type[0]
            if subtype == 3:  # Image annotation
                bbox = annot.rect
                page.draw_rect(bbox, color=(1, 0, 0), width=2)
            elif subtype == 5:  # Path object (vector graphics)
                bbox = annot.rect
                page.draw_rect(bbox, color=(1, 0, 0), width=2)
    
    doc.save(output_pdf_path)
    doc.close()

# Input PDF path
pdf_path = 'vishal.pdf'
output_pdf_path = 'marked_vishal.pdf'

# Mark images and vector graphics with red rectangle in the PDF
mark_graphics_with_red_rectangle(pdf_path, output_pdf_path)

print("Images and vector graphics marked with red rectangles successfully in the output PDF.")
